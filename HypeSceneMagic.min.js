/*
 Hype SceneMagic 2.7.0 (GSAP Version)
 Copyright (c) 2025 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function R(a){const f={},k=z("defaultProperties");for(let b in k)z("skipProperties").includes(b)||(f[b]=a.style[b]||k[b]);return f}function z(a){return a?H[a]:H}function I(a){a=a||"power1.inOut";return z("easingMap")[a.toLowerCase()]||a}function aa(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function ba(a,f){return f==="front"||f==="back"?(a=Array.from(a.parentElement.children).map(k=>
parseInt(getComputedStyle(k).zIndex)||0),f==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):f}function B(a){const f=[];a.classList.forEach(k=>{k.toLowerCase().startsWith("magic")&&k.length>5&&f.push(k.slice(5).toLowerCase())});(a=a.getAttribute("data-transition-id"))&&f.push(...a.split(",").map(k=>k.trim().toLowerCase()).map(k=>k.startsWith("magic")?k.slice(5):k).filter(Boolean));return[...(new Set(f))]}function N(a,f,k){const b=d=>{if(typeof d==="string"){if(d.endsWith("%"))return parseFloat(d)/
100*parseFloat(k);if(d.endsWith("ms"))return parseFloat(d)/1E3;if(d.endsWith("s"))return parseFloat(d)}return parseFloat(d)*parseFloat(k)};a=b(a);f=b(f);return{delay:a,duration:f}}function ca(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition \x3e .HYPE_scene { transform: none !important; }.magicTransition \x3e .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition \x3e .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition \x3e .HYPE_document \x3e .HYPE_element_container { z-index: 1000 !important; }.magicTransition \x3e .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition \x3e .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function K(a){if(!a)return null;const f={},k=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(b=>{const [d,e]=b.trim().split(":").map(g=>g.trim());k.includes(d)&&e.endsWith("%")?f[d]=parseFloat(e)/100:f[d]=e});return f}function T(a,f){typeof f==="string"&&(f=K(f));H.registeredAnimations[a.toLowerCase()]=f}function O(a){return H.registeredAnimations[a.toLowerCase()]||null}function da(a){const f=[];a.masterTimeline.getChildren().forEach(k=>{k.progress()!==
1&&k._targets&&Array.isArray(k._targets)&&k._targets.forEach(b=>{if(b&&b.id){var d=B(b);const e=[b.getAttribute("data-transition-animation")&&`animation: ${b.getAttribute("data-transition-animation")}`,b.getAttribute("data-transition-animation-from")&&`animation-from: ${b.getAttribute("data-transition-animation-from")}`,b.getAttribute("data-transition-animation-to")&&`animation-to: ${b.getAttribute("data-transition-animation-to")}`].filter(Boolean);d=`${b.id} (magic: ${d.length>0?d.join(", "):"none"})`;
b=[b.getAttribute("data-transition-delay")&&`delay: ${b.getAttribute("data-transition-delay")}`,b.getAttribute("data-transition-duration")&&`duration: ${b.getAttribute("data-transition-duration")}`,e.length>0&&e.join(", ")].filter(Boolean);b.length>0&&(d+=` - ${b.join(", ")}`);f.push(d)}})});a=["font-weight: bold;","font-weight: normal;"];f.length>0?console.warn("%cHypeSceneMagic: %cPrevious magic transition was interrupted by a new one. This indicates overlapping magic transitions in your Hype document.\n\n%cInterrupted elements:\n%c"+
f.map((k,b)=>`${b+1}. ${k}`).join("\n"),...a,"font-weight: bold; margin-top: 8px;","font-family: monospace; font-size: 11px; line-height: 1.8; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);"):console.warn("%cHypeSceneMagic: %cPrevious magic transition was interrupted by a new one. This indicates overlapping magic transitions in your Hype document.",...a)}function U(a){if(!a)return{rotations:{},transform:""};const f={};a=a.replace(/(rotate[XYZ]?|rotate)\(([^)]+)\)/g,(k,
b,d)=>{f[b]=d;return""}).trim();return{rotations:f,transform:a}}function V(a){a%=360;a>180?a-=360:a<=-180&&(a+=360);return a}const ea=window.location.href.indexOf("/Hype/Scratch/HypeScratch.")!=-1;let H={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",
lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,durationTransition:.5,durationAnimation:.25,registeredAnimations:{},hypePropertyMap:{x:"left",y:"top",scale:["scaleX","scaleY"],scaleX:"scaleX",scaleY:"scaleY",rotation:"rotateZ",opacity:"opacity",width:"width",height:"height",zIndex:"z-index"},skipProperties:[],decomposeTransform:!0,highlightSceneMagic:!0},D=new WeakMap,P=new WeakMap;const L=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=
[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,f,k){ca();a.registerAnimation=T;a.showSceneNamedMagic=function(b,d,e,g={}){if(f.classList.contains("magicTransition")){var h=L.get(a);if(h&&h.masterTimeline){da(h);h.masterTimeline.progress(1);gsap.killTweensOf(h.masterTimeline);delete h.masterTimeline;requestAnimationFrame(()=>{this.showSceneNamedMagic(b,d,e,g)});return}}h=this.currentSceneName();const C=this.currentLayoutName();if(b!==h)if(this.sceneNames().includes(b)){var p=
this.layoutsForSceneNamed(h),q=p.find(c=>{if(c.name===C)return!0})||p[0];p=this.layoutsForSceneNamed(b);var A=p.find(c=>c.name===C)||p.find(c=>c.width===q.width&&c.height===q.height)||p[0];p=q._;A=A._;var r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${p}"]`),v=document.querySelector(`#${this.documentId()} > [hype_scene_index="${A}"]`);P=new WeakMap;d=d||z("durationTransition");p=g.crossFadeFactor!==void 0?g.crossFadeFactor:z("crossFadeFactor");p*=d;f.classList.add("magicTransition");
r.classList.add("currentScene");v.classList.add("targetScene");if(g.onTransitionPrepare)g.onTransitionPrepare(r,v,{duration:d,ease:e});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${h.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${b.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${h.replace(/\s+/g,"")}_to_${b.replace(/\s+/g,"")}`);a.showSceneNamed(b,a.kSceneTransitionCrossfade,d);var E=gsap.timeline({onStart:()=>
{if(g.onTransitionStart)g.onTransitionStart(r,v,{duration:d,ease:e})},onUpdate:function(){if(g.onTransitionProgress)g.onTransitionProgress(this.progress(),r,v)},onComplete:()=>{const c=()=>{var t=getComputedStyle(v).opacity;if(parseFloat(t)==1){requestAnimationFrame(()=>{W.forEach(l=>{const m=P.get(l);m&&gsap.set(l,m)})});f.classList.remove("magicTransition");r.classList.remove("currentScene","fadeComplete");v.classList.remove("targetScene","fadeComplete");if(g.onTransitionEnd)g.onTransitionEnd(r,
v,{duration:d,ease:e});a.triggerCustomBehaviorNamed("magicTransitionEnd");(t=L.get(a))&&delete t.masterTimeline}else requestAnimationFrame(c)};c()}});E.to({},{duration:d});E.fromTo(v,{"--scene-opacity":0},{"--scene-opacity":1,duration:p,ease:"none",onComplete:()=>{r.classList.add("fadeComplete");v.classList.add("fadeComplete");gsap.killTweensOf(r.querySelectorAll("*"))}},0);var X=v.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),Y=r.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),
W=new Set,S=c=>{D.has(c)&&!P.has(c)&&P.set(c,D.get(c));W.add(c)};X.forEach(c=>{const t=B(c);if(t.length>0){const J=Array.from(Y).find(w=>B(w).some(x=>t.includes(x)));if(J){gsap.killTweensOf([c,J]);S(J);const w=R(J),x={...(D.get(c)||R(c))};function Q(u,F){let y=J.getAttribute(u);return y==="target"?c.getAttribute(u)||F:y||F}var l=Q("data-transition-delay",0),m=Q("data-transition-duration",1),n=Q("data-transition-order",null);l=N(l,m,d);m=Q("data-transition-ease",e);let M=null;n!==null&&(M=aa(c),n=
ba(M,n),gsap.set(M,{zIndex:n}));n=gsap.timeline({onComplete:()=>{M&&gsap.set(M,{clearProps:"zIndex"})}});if(z("decomposeTransform")){var G=U(w.transform);Object.assign(w,G.rotations);w.transform=G.transform;G=U(x.transform);Object.assign(x,G.rotations);x.transform=G.transform;["rotate","rotateX","rotateY","rotateZ"].forEach(u=>{var F=parseFloat(w[u])||0,y=parseFloat(x[u])||0;F=V(F);y=V(y)-F;y>180?y-=360:y<-180&&(y+=360);y!==0&&(w[u]=F+"deg",x[u]=`+=${y}`)});["width","height"].forEach(u=>{w[u]==="auto"&&
x[u]==="auto"&&(delete w[u],delete x[u])})}n.fromTo(c,w,{...x,duration:l.duration,ease:I(m)},l.delay);n.fromTo(J,w,{...x,duration:l.duration,ease:I(m)},l.delay);E.add(n,0)}else if(m=c.getAttribute("data-transition-animation-from")||c.getAttribute("data-transition-animation"))gsap.killTweensOf(c),m.includes(":")||(l=O(m)),l||=K(m),l&&(m=c.getAttribute("data-transition-delay")||0,n=c.getAttribute("data-transition-duration")||1,m=N(m,n,d),n=c.getAttribute("data-transition-ease")||e,E.from(c,{duration:m.duration,
ease:I(n),...l},m.delay))}});Y.forEach(c=>{const t=B(c);if(t.length>0&&!Array.from(X).some(n=>B(n).some(G=>t.includes(G)))){S(c);gsap.killTweensOf(c);var l=c.getAttribute("data-transition-animation-to")||c.getAttribute("data-transition-animation");if(l){let n;l.includes(":")||(n=O(l));n||=K(l);if(n){l=c.getAttribute("data-transition-delay")||0;var m=c.getAttribute("data-transition-duration")||1;l=N(l,m,d);m=c.getAttribute("data-transition-ease")||e;E.to(c,{duration:l.duration,ease:I(m),...n},l.delay)}}}});
var Z=(c,t)=>{var l=c.getAttribute(`data-transition-animation-${t?"from":"to"}`)||c.getAttribute("data-transition-animation");if(l){S(c);gsap.killTweensOf(c);let n;l.includes(":")||(n=O(l));n||=K(l);if(n){l=c.getAttribute("data-transition-delay")||0;var m=c.getAttribute("data-transition-duration")||1;l=N(l,m,d);m=c.getAttribute("data-transition-ease")||e;E[t?"from":"to"](c,{duration:l.duration,ease:I(m),...n},l.delay)}}};h=Array.from(v.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(c=>
B(c).length===0);p=Array.from(r.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(c=>B(c).length===0);h.forEach(c=>Z(c,!0));p.forEach(c=>Z(c,!1));L.has(a)||L.set(a,{});L.get(a).masterTimeline=E}else console.warn('HypeSceneMagic: Target scene "'+b+'" not found.')};a.magicCard||(a.magicCard=function(b,d){d=d||{};typeof d==="number"&&(d={duration:d});b||="\x3e";const e=this.sceneNames();var g=this.currentSceneName();g=e.indexOf(g);
let h=null;if(b==="\x3e"||b==="\x3c")h=e[(g+(b==="\x3e"?1:-1)+e.length)%e.length];else if(b.startsWith("\x3e")||b.startsWith("\x3c")){var C=b.charAt(0);const p=b.substring(1);C=C==="\x3e"?1:-1;for(let q=1;q<=e.length;q++){const A=(g+C*q+e.length)%e.length;if(e[A].startsWith(p)){h=e[A];break}}if(!h){console.warn('HypeSceneMagic: Can not resolve target scene for "'+b+'".');return}}else h=b;h&&this.showSceneNamedMagic(h,d.duration,d.ease,d)});a.showNextSceneMagic=function(b,d,e){var g=this.sceneNames();
const h=g.indexOf(this.currentSceneName());g=g[h+1];g!=null&&a.showSceneNamedMagic(g,b,d,e)};a.showPreviousSceneMagic=function(b,d,e){var g=this.sceneNames();const h=g.indexOf(this.currentSceneName());g=g[h-1];g!=null&&a.showSceneNamedMagic(g,b,d,e)};a.applyAnimation=function(b,d,e={}){gsap.killTweensOf(b);let g,h=b;if(typeof b==="string"&&(h=document.getElementById(this.currentSceneId()).querySelectorAll(b),h.length===0))return null;typeof d==="string"?(d.includes(":")||(g=O(d)),g||=K(d)):typeof d===
"object"&&(g=d);if(!g)return null;const C=z("hypePropertyMap");b={ease:I(e.ease),duration:e.duration||z("durationAnimation"),...g,...e,onComplete:()=>{e.skipHypeSync||(h.length?h:[h]).forEach(p=>{Object.entries(g).forEach(([q,A])=>{(q=C[q])&&(Array.isArray(q)?q.forEach(r=>{this.setElementProperty(p,r,A)}):this.setElementProperty(p,q,A))})});if(e.onComplete)e.onComplete()}};return e.from||g.from?gsap.from(h,b):gsap.to(h,b)}}});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(a,
f,k){f&&f.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id], [data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]').forEach(b=>{D.has(b)||D.set(b,R(b))})}});ea&&z("highlightSceneMagic")&&window.addEventListener("DOMContentLoaded",function(a){if(!document.getElementById("magicElementIndicatorStyle")){const f="data-scope data-content data-visibility data-effect data-content-template data-magic-key magic-edit".split(" ");a=b=>{const d=f.map(e=>
`:not([${e}])`).join("");return b.map(e=>{const g=e.indexOf("::"),h=e.substring(0,g);e=e.substring(g);return h+d+e}).join(", ")};let k=document.createElement("style");k.id="magicElementIndicatorStyle";k.textContent=["@keyframes magic-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }",a(["div[data-transition-animation]::after","div[data-transition-animation-from]::after","div[data-transition-animation-to]::after",'div[class*\x3d"magic"]::after',"div[data-transition-id]::after"])+
" {","    position: absolute; top: -4px; right: -4px; width: 16px; height: 16px; font-size: 12px;     background-color: rgba(255, 215, 0, 0.15); border-radius: 50%;     display: flex; align-items: center; justify-content: center;     pointer-events: none; z-index: 9999; }",a(["div[data-transition-animation]::after","div[data-transition-animation-from]::after","div[data-transition-animation-to]::after"])+" {",'    content: "\ud83c\udfac"; }',a(['div[class*\x3d"magic"]::after',"div[data-transition-id]::after"])+
" {",'    content: "\ud83c\udf1f";     animation: magic-spin 5s linear infinite; }',a('div[class*\x3d"magic"][data-transition-animation]::after div[class*\x3d"magic"][data-transition-animation-from]::after div[class*\x3d"magic"][data-transition-animation-to]::after div[data-transition-id][data-transition-animation]::after div[data-transition-id][data-transition-animation-from]::after div[data-transition-id][data-transition-animation-to]::after'.split(" "))+" {",'    content: "\ud83c\udfac";     animation: none; }',
a('div[class*\x3d"magic"][data-transition-animation]::before div[class*\x3d"magic"][data-transition-animation-from]::before div[class*\x3d"magic"][data-transition-animation-to]::before div[data-transition-id][data-transition-animation]::before div[data-transition-id][data-transition-animation-from]::before div[data-transition-id][data-transition-animation-to]::before'.split(" "))+" {",'    content: "\ud83c\udf1f";     position: absolute;     top: 4px;     right: -10px;     font-size: 8px;     animation: magic-spin 5s linear infinite;     transform: translate(50%, 50%);     z-index: 10000;     pointer-events: none; }'].join(" ");
document.head.appendChild(k)}});return{version:"2.7.0",getDefault:z,setDefault:function(a,f){typeof a=="object"?H=a:H[a]=f},clearCachedMagicProperties:function(a){a?D.delete(a):D=new WeakMap},getTransitionIdentifiers:B,registerAnimation:T}}());
