/*
 Hype SceneMagic 2.5.7 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function x(a,b=!1){if(!b&&y.has(a))return y.get(a);b={};let q=z("defaultProperties");for(let g in q)b[g]=a.style[g]||q[g];y.set(a,b);return b}function z(a){return a?v[a]:v}function C(a){a=a||"power1.inOut";return z("easingMap")[a.toLowerCase()]||a}function S(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function T(a,b){return b==="front"||b==="back"?(a=Array.from(a.parentElement.children).map(q=>
parseInt(getComputedStyle(q).zIndex)||0),b==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):b}function F(a,b,q){const g=c=>{if(typeof c==="string"){if(c.endsWith("%"))return parseFloat(c)/100*parseFloat(q);if(c.endsWith("ms"))return parseFloat(c)/1E3;if(c.endsWith("s"))return parseFloat(c)}return parseFloat(c)*parseFloat(q)};a=g(a);b=g(b);return{delay:a,duration:b}}function U(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";
a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition > .HYPE_scene { transform: none !important; }.magicTransition > .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition > .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition > .HYPE_document > .HYPE_element_container { z-index: 1000 !important; }.magicTransition > .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition > .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function K(a){for(let b of a.classList)if(b.toLowerCase().startsWith("magic")&&b.length>5)return b.slice(5).toLowerCase();return null}function D(a){let b=K(a);b||=a.getAttribute("data-transition-id");b&&b.toLowerCase().startsWith("magic")&&(b=b.slice(5));return b?b.toLowerCase():null}function G(a){if(!a)return null;const b={},q=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(g=>{const [c,m]=g.trim().split(":").map(e=>e.trim());q.includes(c)&&
m.endsWith("%")?b[c]=parseFloat(m)/100:b[c]=m});return b}function L(a,b){typeof b==="string"&&(b=G(b));v.registeredAnimations[a.toLowerCase()]=b}let v={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",
textDecoration:"none"},crossFadeFactor:.5,duration:.5,registeredAnimations:{}};const y=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,q){U();a.registerAnimation=L;a.showSceneNamedMagic=function(g,c,m,e={}){if(!b.classList.contains("magicTransition")){var f=this.currentSceneName(),M=this.currentLayoutName();if(g!==f){f=this.layoutsForSceneNamed(f);var H=f.find(p=>{if(p.name===M)return!0})||
f[0];f=this.layoutsForSceneNamed(g);var I=f.find(p=>p.name===M?!0:p.width===H.width&&p.height===H.height)||f[0];f=H._;I=I._;var t=document.querySelector(`#${this.documentId()} > [hype_scene_index="${f}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${I}"]`);c=c||z("duration");f=e.crossFadeFactor!==void 0?e.crossFadeFactor:z("crossFadeFactor");f*=c;if(r!=null){b.classList.add("magicTransition");t.classList.add("currentScene");r.classList.add("targetScene");if(e.onTransitionStart)e.onTransitionStart(t,
r,{duration:c,ease:m});a.showSceneNamed(g,a.kSceneTransitionCrossfade,c);const p=gsap.timeline({onUpdate:function(){if(e.onTransitionProgress)e.onTransitionProgress(this.progress(),t,r)},onComplete:()=>{J.forEach(d=>{const w=x(d);gsap.set(d,w)});b.classList.remove("magicTransition");t.classList.remove("currentScene","fadeComplete");r.classList.remove("targetScene","fadeComplete");if(e.onTransitionEnd)e.onTransitionEnd(t,r,{duration:c,ease:m})}});p.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,
duration:f,ease:"none",onComplete:()=>{t.classList.add("fadeComplete");r.classList.add("fadeComplete")}});p.call(()=>{gsap.killTweensOf(t.querySelectorAll("*"))},null,f);this.triggerCustomBehaviorNamed("magicTransition");const N=r.querySelectorAll('div[class*="magic"], div[data-transition-id]'),O=t.querySelectorAll('div[class*="magic"], div[data-transition-id]'),J=new Set;N.forEach(d=>{const w=D(d);if(w){const A=Array.from(O).find(u=>(u=D(u))&&u.toLowerCase()===w.toLowerCase());if(A){J.add(A);var h=
x(A),k=x(d);function u(P,Q){let R=A.getAttribute(P);return R==="target"?d.getAttribute(P)||Q:R||Q}var l=u("data-transition-delay",0),E=u("data-transition-duration",1),n=u("data-transition-order",null);l=F(l,E,c);E=u("data-transition-ease",m);let B=null;n!==null&&(B=S(d),n=T(B,n),gsap.set(B,{zIndex:n}));n=gsap.timeline({onComplete:()=>{B&&gsap.set(B,{clearProps:"zIndex"})}});n.fromTo(d,h,{...k,duration:l.duration,ease:C(E)},l.delay);n.fromTo(A,h,{...k,duration:l.duration,ease:C(E)},l.delay);p.add(n,
0)}else if(k=d.getAttribute("data-transition-fallback-from")||d.getAttribute("data-transition-fallback"))k.includes(":")||(h=v.registeredAnimations[k.toLowerCase()]||null),h||=G(k),h&&(x(d),k=d.getAttribute("data-transition-delay")||0,n=d.getAttribute("data-transition-duration")||1,k=F(k,n,c),n=d.getAttribute("data-transition-ease")||m,p.from(d,{duration:k.duration,ease:C(n),...h},k.delay))}});O.forEach(d=>{const w=D(d);if(w&&!Array.from(N).find(l=>(l=D(l))&&l.toLowerCase()===w.toLowerCase())){J.add(d);
var h=d.getAttribute("data-transition-fallback-to")||d.getAttribute("data-transition-fallback");if(h){let l;h.includes(":")||(l=v.registeredAnimations[h.toLowerCase()]||null);l||=G(h);if(l){x(d);h=d.getAttribute("data-transition-delay")||0;var k=d.getAttribute("data-transition-duration")||1;h=F(h,k,c);k=d.getAttribute("data-transition-ease")||m;p.to(d,{duration:h.duration,ease:C(k),...l},h.delay)}}}})}}}};a.showNextSceneMagic=function(g,c,m){var e=this.sceneNames();const f=e.indexOf(this.currentSceneName());
e=e[f+1];e!=null&&a.showSceneNamedMagic(e,g,c,m)};a.showPreviousSceneMagic=function(g,c,m){var e=this.sceneNames();const f=e.indexOf(this.currentSceneName());e=e[f-1];e!=null&&a.showSceneNamedMagic(e,g,c,m)}}});return{version:"2.5.7",getDefault:z,setDefault:function(a,b){typeof a=="object"?v=a:v[a]=b},clearCachedMagicProperties:function(a){a?y.delete(a):y.clear()},extractMagicIdentifier:K,registerAnimation:L}}());
