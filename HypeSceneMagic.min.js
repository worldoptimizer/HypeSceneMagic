/*
 Hype SceneMagic 2.5.8 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function D(a,b=!1){if(!b&&E.has(a))return E.get(a);b={};let t=y("defaultProperties");for(let f in t)b[f]=a.style[f]||t[f];E.set(a,b);return b}function y(a){return a?z[a]:z}function A(a){a=a||"power1.inOut";return y("easingMap")[a.toLowerCase()]||a}function V(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function W(a,b){return b==="front"||b==="back"?(a=Array.from(a.parentElement.children).map(t=>
parseInt(getComputedStyle(t).zIndex)||0),b==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):b}function I(a,b,t){const f=d=>{if(typeof d==="string"){if(d.endsWith("%"))return parseFloat(d)/100*parseFloat(t);if(d.endsWith("ms"))return parseFloat(d)/1E3;if(d.endsWith("s"))return parseFloat(d)}return parseFloat(d)*parseFloat(t)};a=f(a);b=f(b);return{delay:a,duration:b}}function X(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";
a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition > .HYPE_scene { transform: none !important; }.magicTransition > .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition > .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition > .HYPE_document > .HYPE_element_container { z-index: 1000 !important; }.magicTransition > .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition > .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function N(a){for(let b of a.classList)if(b.toLowerCase().startsWith("magic")&&b.length>5)return b.slice(5).toLowerCase();return null}function B(a){let b=N(a);b||=a.getAttribute("data-transition-id");b&&b.toLowerCase().startsWith("magic")&&(b=b.slice(5));return b?b.toLowerCase():null}function F(a){if(!a)return null;const b={},t=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(f=>{const [d,h]=f.trim().split(":").map(e=>e.trim());t.includes(d)&&
h.endsWith("%")?b[d]=parseFloat(h)/100:b[d]=h});return b}function O(a,b){typeof b==="string"&&(b=F(b));z.registeredAnimations[a.toLowerCase()]=b}function J(a){return z.registeredAnimations[a.toLowerCase()]||null}let z={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",
textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,durationTransition:.5,durationAnimation:.25,registeredAnimations:{},hypePropertyMap:{x:"left",y:"top",scale:["scaleX","scaleY"],scaleX:"scaleX",scaleY:"scaleY",rotation:"rotateZ",opacity:"opacity",width:"width",height:"height",zIndex:"z-index"}};const E=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",
callback:function(a,b,t){X();a.registerAnimation=O;a.showSceneNamedMagic=function(f,d,h,e={}){if(!b.classList.contains("magicTransition")){var m=this.currentSceneName(),K=this.currentLayoutName();if(f!==m){var n=this.layoutsForSceneNamed(m),w=n.find(p=>{if(p.name===K)return!0})||n[0];n=this.layoutsForSceneNamed(f);var C=n.find(p=>p.name===K?!0:p.width===w.width&&p.height===w.height)||n[0];n=w._;C=C._;var r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${n}"]`),u=document.querySelector(`#${this.documentId()} > [hype_scene_index="${C}"]`);
d=d||y("durationTransition");n=e.crossFadeFactor!==void 0?e.crossFadeFactor:y("crossFadeFactor");n*=d;if(u!=null){b.classList.add("magicTransition");r.classList.add("currentScene");u.classList.add("targetScene");if(e.onTransitionStart)e.onTransitionStart(r,u,{duration:d,ease:h});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${m.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${f.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${m.replace(/\s+/g,
"")}_to_${f.replace(/\s+/g,"")}`);a.showSceneNamed(f,a.kSceneTransitionCrossfade,d);const p=gsap.timeline({onUpdate:function(){if(e.onTransitionProgress)e.onTransitionProgress(this.progress(),r,u)},onComplete:()=>{M.forEach(c=>{const v=D(c);gsap.set(c,v)});b.classList.remove("magicTransition");r.classList.remove("currentScene","fadeComplete");u.classList.remove("targetScene","fadeComplete");if(e.onTransitionEnd)e.onTransitionEnd(r,u,{duration:d,ease:h});a.triggerCustomBehaviorNamed("magicTransitionEnd")}});
p.fromTo(u,{"--scene-opacity":0},{"--scene-opacity":1,duration:n,ease:"none",onComplete:()=>{r.classList.add("fadeComplete");u.classList.add("fadeComplete")}});p.call(()=>{gsap.killTweensOf(r.querySelectorAll("*"))},null,n);const P=u.querySelectorAll('div[class*="magic"], div[data-transition-id]'),Q=r.querySelectorAll('div[class*="magic"], div[data-transition-id]'),M=new Set;P.forEach(c=>{const v=B(c);if(v){const G=Array.from(Q).find(x=>(x=B(x))&&x.toLowerCase()===v.toLowerCase());if(G){M.add(G);
var g=D(G),k=D(c);function x(R,S){let T=G.getAttribute(R);return T==="target"?c.getAttribute(R)||S:T||S}var l=x("data-transition-delay",0),L=x("data-transition-duration",1),q=x("data-transition-order",null);l=I(l,L,d);L=x("data-transition-ease",h);let H=null;q!==null&&(H=V(c),q=W(H,q),gsap.set(H,{zIndex:q}));q=gsap.timeline({onComplete:()=>{H&&gsap.set(H,{clearProps:"zIndex"})}});q.fromTo(c,g,{...k,duration:l.duration,ease:A(L)},l.delay);q.fromTo(G,g,{...k,duration:l.duration,ease:A(L)},l.delay);
p.add(q,0)}else if(k=c.getAttribute("data-transition-animation-from")||c.getAttribute("data-transition-animation"))k.includes(":")||(g=J(k)),g||=F(k),g&&(D(c),k=c.getAttribute("data-transition-delay")||0,q=c.getAttribute("data-transition-duration")||1,k=I(k,q,d),q=c.getAttribute("data-transition-ease")||h,p.from(c,{duration:k.duration,ease:A(q),...g},k.delay))}});Q.forEach(c=>{const v=B(c);if(v&&!Array.from(P).find(l=>(l=B(l))&&l.toLowerCase()===v.toLowerCase())){M.add(c);var g=c.getAttribute("data-transition-animation-to")||
c.getAttribute("data-transition-animation");if(g){let l;g.includes(":")||(l=J(g));l||=F(g);if(l){D(c);g=c.getAttribute("data-transition-delay")||0;var k=c.getAttribute("data-transition-duration")||1;g=I(g,k,d);k=c.getAttribute("data-transition-ease")||h;p.to(c,{duration:g.duration,ease:A(k),...l},g.delay)}}}});const U=(c,v)=>{var g=c.getAttribute(`data-transition-animation-${v?"from":"to"}`)||c.getAttribute("data-transition-animation");if(g&&(g=g.includes(":")?F(g):J(g))){var k=c.getAttribute("data-transition-delay")||
0,l=c.getAttribute("data-transition-duration")||1;k=I(k,l,d);l=c.getAttribute("data-transition-ease")||h;p[v?"from":"to"](c,{duration:k.duration,ease:A(l),...g},k.delay)}};f=Array.from(u.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(c=>!B(c));m=Array.from(r.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(c=>!B(c));f.forEach(c=>U(c,!0));m.forEach(c=>
U(c,!1))}}}};a.showNextSceneMagic=function(f,d,h){var e=this.sceneNames();const m=e.indexOf(this.currentSceneName());e=e[m+1];e!=null&&a.showSceneNamedMagic(e,f,d,h)};a.showPreviousSceneMagic=function(f,d,h){var e=this.sceneNames();const m=e.indexOf(this.currentSceneName());e=e[m-1];e!=null&&a.showSceneNamedMagic(e,f,d,h)};a.applyAnimation=function(f,d,h={}){gsap.killTweensOf(f);let e,m=f;if(typeof f==="string"&&(m=document.getElementById(this.currentSceneId()).querySelectorAll(f),m.length===0))return null;
typeof d==="string"?(d.includes(":")||(e=J(d)),e||=F(d)):typeof d==="object"&&(e=d);if(!e)return null;const K=y("hypePropertyMap");f={ease:A(h.ease),duration:h.duration||y("durationAnimation"),...e,...h,onComplete:()=>{h.skipHypeSync||(m.length?m:[m]).forEach(n=>{Object.entries(e).forEach(([w,C])=>{(w=K[w])&&(Array.isArray(w)?w.forEach(r=>{this.setElementProperty(n,r,C)}):this.setElementProperty(n,w,C))})});if(h.onComplete)h.onComplete()}};return h.from||e.from?gsap.from(m,f):gsap.to(m,f)}}});return{version:"2.5.8",
getDefault:y,setDefault:function(a,b){typeof a=="object"?z=a:z[a]=b},clearCachedMagicProperties:function(a){a?E.delete(a):E.clear()},extractMagicIdentifier:N,registerAnimation:O}}());
