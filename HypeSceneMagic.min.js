/*
 Hype SceneMagic 2.6.5 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function N(a){const d={},m=w("defaultProperties");for(let e in m)w("skipProperties").includes(e)||(d[e]=a.style[e]||m[e]);return d}function w(a){return a?B[a]:B}function C(a){a=a||"power1.inOut";return w("easingMap")[a.toLowerCase()]||a}function X(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function Y(a,d){return d==="front"||d==="back"?(a=Array.from(a.parentElement.children).map(m=>
parseInt(getComputedStyle(m).zIndex)||0),d==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):d}function x(a){const d=[];a.classList.forEach(m=>{m.toLowerCase().startsWith("magic")&&m.length>5&&d.push(m.slice(5).toLowerCase())});(a=a.getAttribute("data-transition-id"))&&d.push(...a.split(",").map(m=>m.trim().toLowerCase()).map(m=>m.startsWith("magic")?m.slice(5):m).filter(Boolean));return[...(new Set(d))]}function J(a,d,m){const e=c=>{if(typeof c==="string"){if(c.endsWith("%"))return parseFloat(c)/
100*parseFloat(m);if(c.endsWith("ms"))return parseFloat(c)/1E3;if(c.endsWith("s"))return parseFloat(c)}return parseFloat(c)*parseFloat(m)};a=e(a);d=e(d);return{delay:a,duration:d}}function Z(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition \x3e .HYPE_scene { transform: none !important; }.magicTransition \x3e .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition \x3e .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition \x3e .HYPE_document \x3e .HYPE_element_container { z-index: 1000 !important; }.magicTransition \x3e .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition \x3e .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function H(a){if(!a)return null;const d={},m=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(e=>{const [c,h]=e.trim().split(":").map(f=>f.trim());m.includes(c)&&h.endsWith("%")?d[c]=parseFloat(h)/100:d[c]=h});return d}function P(a,d){typeof d==="string"&&(d=H(d));B.registeredAnimations[a.toLowerCase()]=d}function K(a){return B.registeredAnimations[a.toLowerCase()]||null}let B={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},
defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,durationTransition:.5,durationAnimation:.25,registeredAnimations:{},hypePropertyMap:{x:"left",y:"top",scale:["scaleX","scaleY"],scaleX:"scaleX",scaleY:"scaleY",rotation:"rotateZ",
opacity:"opacity",width:"width",height:"height",zIndex:"z-index"},skipProperties:["fontFamily"]},y=new WeakMap,L=new WeakMap;const I=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,d,m){Z();a.registerAnimation=P;a.showSceneNamedMagic=function(e,c,h,f={}){if(d.classList.contains("magicTransition")){var k=I.get(a);k&&k.masterTimeline&&(k.masterTimeline.progress(1),delete k.masterTimeline,console.warn("HypeSceneMagic: Previous magic transition was interrupted by a new one. This indicates overlapping magic transitions in your Hype document."))}k=
this.currentSceneName();const M=this.currentLayoutName();if(e!==k){var p=this.layoutsForSceneNamed(k),v=p.find(b=>{if(b.name===M)return!0})||p[0];p=this.layoutsForSceneNamed(e);var D=p.find(b=>b.name===M)||p.find(b=>b.width===v.width&&b.height===v.height)||p[0];p=v._;D=D._;var q=document.querySelector(`#${this.documentId()} > [hype_scene_index="${p}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${D}"]`);if(r!==null){L=new WeakMap;c=c||w("durationTransition");p=f.crossFadeFactor!==
void 0?f.crossFadeFactor:w("crossFadeFactor");p*=c;d.classList.add("magicTransition");q.classList.add("currentScene");r.classList.add("targetScene");if(f.onTransitionPrepare)f.onTransitionPrepare(q,r,{duration:c,ease:h});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${k.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${e.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${k.replace(/\s+/g,"")}_to_${e.replace(/\s+/g,
"")}`);a.showSceneNamed(e,a.kSceneTransitionCrossfade,c);var z=gsap.timeline({onStart:()=>{if(f.onTransitionStart)f.onTransitionStart(q,r,{duration:c,ease:h})},onUpdate:function(){if(f.onTransitionProgress)f.onTransitionProgress(this.progress(),q,r)},onComplete:()=>{const b=()=>{var t=getComputedStyle(r).opacity;if(parseFloat(t)==1){requestAnimationFrame(()=>{Q.forEach(g=>{const l=L.get(g);l&&gsap.set(g,l)})});d.classList.remove("magicTransition");q.classList.remove("currentScene","fadeComplete");
r.classList.remove("targetScene","fadeComplete");if(f.onTransitionEnd)f.onTransitionEnd(q,r,{duration:c,ease:h});a.triggerCustomBehaviorNamed("magicTransitionEnd");(t=I.get(a))&&delete t.masterTimeline}else requestAnimationFrame(b)};b()}});z.to({},{duration:c});z.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,duration:p,ease:"none",onComplete:()=>{q.classList.add("fadeComplete");r.classList.add("fadeComplete");gsap.killTweensOf(q.querySelectorAll("*"))}},0);var R=r.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),
S=q.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),Q=new Set,O=b=>{y.has(b)&&!L.has(b)&&L.set(b,y.get(b));Q.add(b)};R.forEach(b=>{const t=x(b);if(t.length>0){const F=Array.from(S).find(E=>x(E).some(A=>t.includes(A)));if(F){gsap.killTweensOf([b,F]);O(F);var g=N(F),l=y.get(b)||N(b);function E(T,U){let V=F.getAttribute(T);return V==="target"?b.getAttribute(T)||U:V||U}var n=E("data-transition-delay",0),G=E("data-transition-duration",1),u=E("data-transition-order",null);n=J(n,G,c);
G=E("data-transition-ease",h);let A=null;u!==null&&(A=X(b),u=Y(A,u),gsap.set(A,{zIndex:u}));u=gsap.timeline({onComplete:()=>{A&&gsap.set(A,{clearProps:"zIndex"})}});u.fromTo(b,g,{...l,duration:n.duration,ease:C(G)},n.delay);u.fromTo(F,g,{...l,duration:n.duration,ease:C(G)},n.delay);z.add(u,0)}else if(l=b.getAttribute("data-transition-animation-from")||b.getAttribute("data-transition-animation"))gsap.killTweensOf(b),l.includes(":")||(g=K(l)),g||=H(l),g&&(l=b.getAttribute("data-transition-delay")||
0,u=b.getAttribute("data-transition-duration")||1,l=J(l,u,c),u=b.getAttribute("data-transition-ease")||h,z.from(b,{duration:l.duration,ease:C(u),...g},l.delay))}});S.forEach(b=>{const t=x(b);if(t.length>0&&!Array.from(R).some(n=>x(n).some(G=>t.includes(G)))){O(b);gsap.killTweensOf(b);var g=b.getAttribute("data-transition-animation-to")||b.getAttribute("data-transition-animation");if(g){let n;g.includes(":")||(n=K(g));n||=H(g);if(n){g=b.getAttribute("data-transition-delay")||0;var l=b.getAttribute("data-transition-duration")||
1;g=J(g,l,c);l=b.getAttribute("data-transition-ease")||h;z.to(b,{duration:g.duration,ease:C(l),...n},g.delay)}}}});var W=(b,t)=>{var g=b.getAttribute(`data-transition-animation-${t?"from":"to"}`)||b.getAttribute("data-transition-animation");if(g&&(O(b),gsap.killTweensOf(b),g=g.includes(":")?H(g):K(g))){var l=b.getAttribute("data-transition-delay")||0,n=b.getAttribute("data-transition-duration")||1;l=J(l,n,c);n=b.getAttribute("data-transition-ease")||h;z[t?"from":"to"](b,{duration:l.duration,ease:C(n),
...g},l.delay)}};e=Array.from(r.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>x(b).length===0);k=Array.from(q.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>x(b).length===0);e.forEach(b=>W(b,!0));k.forEach(b=>W(b,!1));I.has(a)||I.set(a,{});I.get(a).masterTimeline=z}}};a.showNextSceneMagic=function(e,c,h){var f=this.sceneNames();const k=f.indexOf(this.currentSceneName());
f=f[k+1];f!=null&&a.showSceneNamedMagic(f,e,c,h)};a.showPreviousSceneMagic=function(e,c,h){var f=this.sceneNames();const k=f.indexOf(this.currentSceneName());f=f[k-1];f!=null&&a.showSceneNamedMagic(f,e,c,h)};a.applyAnimation=function(e,c,h={}){gsap.killTweensOf(e);let f,k=e;if(typeof e==="string"&&(k=document.getElementById(this.currentSceneId()).querySelectorAll(e),k.length===0))return null;typeof c==="string"?(c.includes(":")||(f=K(c)),f||=H(c)):typeof c==="object"&&(f=c);if(!f)return null;const M=
w("hypePropertyMap");e={ease:C(h.ease),duration:h.duration||w("durationAnimation"),...f,...h,onComplete:()=>{h.skipHypeSync||(k.length?k:[k]).forEach(p=>{Object.entries(f).forEach(([v,D])=>{(v=M[v])&&(Array.isArray(v)?v.forEach(q=>{this.setElementProperty(p,q,D)}):this.setElementProperty(p,v,D))})});if(h.onComplete)h.onComplete()}};return h.from||f.from?gsap.from(k,e):gsap.to(k,e)}}});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(a,d,m){d&&d.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id], [data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]').forEach(e=>
{y.has(e)||y.set(e,N(e))})}});return{version:"2.6.5",getDefault:w,setDefault:function(a,d){typeof a=="object"?B=a:B[a]=d},clearCachedMagicProperties:function(a){a?y.delete(a):y=new WeakMap},getTransitionIdentifiers:x,registerAnimation:P}}());
