/*
 Hype SceneMagic 2.6.0 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function G(a,d=!1){if(!d&&H.has(a))return H.get(a);d={};let k=w("defaultProperties");for(let f in k)d[f]=a.style[f]||k[f];H.set(a,d);return d}function w(a){return a?z[a]:z}function A(a){a=a||"power1.inOut";return w("easingMap")[a.toLowerCase()]||a}function U(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function V(a,d){return d==="front"||d==="back"?(a=Array.from(a.parentElement.children).map(k=>
parseInt(getComputedStyle(k).zIndex)||0),d==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):d}function x(a){const d=[];a.classList.forEach(k=>{k.toLowerCase().startsWith("magic")&&k.length>5&&d.push(k.slice(5).toLowerCase())});(a=a.getAttribute("data-transition-id"))&&d.push(...a.split(",").map(k=>k.trim().toLowerCase()).map(k=>k.startsWith("magic")?k.slice(5):k).filter(Boolean));return[...(new Set(d))]}function J(a,d,k){const f=c=>{if(typeof c==="string"){if(c.endsWith("%"))return parseFloat(c)/
100*parseFloat(k);if(c.endsWith("ms"))return parseFloat(c)/1E3;if(c.endsWith("s"))return parseFloat(c)}return parseFloat(c)*parseFloat(k)};a=f(a);d=f(d);return{delay:a,duration:d}}function W(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition > .HYPE_scene { transform: none !important; }.magicTransition > .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition > .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition > .HYPE_document > .HYPE_element_container { z-index: 1000 !important; }.magicTransition > .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition > .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function I(a){if(!a)return null;const d={},k=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(f=>{const [c,h]=f.trim().split(":").map(e=>e.trim());k.includes(c)&&h.endsWith("%")?d[c]=parseFloat(h)/100:d[c]=h});return d}function N(a,d){typeof d==="string"&&(d=I(d));z.registeredAnimations[a.toLowerCase()]=d}function K(a){return z.registeredAnimations[a.toLowerCase()]||null}let z={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},
defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,durationTransition:.5,durationAnimation:.25,registeredAnimations:{},hypePropertyMap:{x:"left",y:"top",scale:["scaleX","scaleY"],scaleX:"scaleX",scaleY:"scaleY",rotation:"rotateZ",
opacity:"opacity",width:"width",height:"height",zIndex:"z-index"}};const H=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,d,k){W();a.registerAnimation=N;a.showSceneNamedMagic=function(f,c,h,e={}){if(!d.classList.contains("magicTransition")){var m=this.currentSceneName(),L=this.currentLayoutName();if(f!==m){var p=this.layoutsForSceneNamed(m),v=p.find(b=>{if(b.name===L)return!0})||p[0];p=this.layoutsForSceneNamed(f);
var B=p.find(b=>b.name===L)||p.find(b=>b.width===v.width&&b.height===v.height)||p[0];p=v._;B=B._;var q=document.querySelector(`#${this.documentId()} > [hype_scene_index="${p}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${B}"]`);if(r!==null){c=c||w("durationTransition");p=e.crossFadeFactor!==void 0?e.crossFadeFactor:w("crossFadeFactor");p*=c;d.classList.add("magicTransition");q.classList.add("currentScene");r.classList.add("targetScene");if(e.onTransitionPrepare)e.onTransitionPrepare(q,
r,{duration:c,ease:h});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${m.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${f.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${m.replace(/\s+/g,"")}_to_${f.replace(/\s+/g,"")}`);a.showSceneNamed(f,a.kSceneTransitionCrossfade,c);var C=gsap.timeline({onStart:()=>{if(e.onTransitionStart)e.onTransitionStart(q,r,{duration:c,ease:h})},onUpdate:function(){if(e.onTransitionProgress)e.onTransitionProgress(this.progress(),
q,r)},onComplete:()=>{const b=()=>{if(getComputedStyle(r).opacity==="1"){requestAnimationFrame(()=>{M.forEach(u=>{const g=G(u);gsap.set(u,g)})});d.classList.remove("magicTransition");q.classList.remove("currentScene","fadeComplete");r.classList.remove("targetScene","fadeComplete");if(e.onTransitionEnd)e.onTransitionEnd(q,r,{duration:c,ease:h});a.triggerCustomBehaviorNamed("magicTransitionEnd")}else requestAnimationFrame(b)};b()}});C.to({},{duration:c});C.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,
duration:p,ease:"none",onComplete:()=>{q.classList.add("fadeComplete");r.classList.add("fadeComplete");gsap.killTweensOf(q.querySelectorAll("*"))}},0);var O=r.querySelectorAll('div[class*="magic"], div[data-transition-id]'),P=q.querySelectorAll('div[class*="magic"], div[data-transition-id]'),M=new Set;O.forEach(b=>{const u=x(b);if(u.length>0){const E=Array.from(P).find(D=>x(D).some(y=>u.includes(y)));if(E){gsap.killTweensOf([b,E]);M.add(E);var g=G(E),l=G(b);function D(Q,R){let S=E.getAttribute(Q);
return S==="target"?b.getAttribute(Q)||R:S||R}var n=D("data-transition-delay",0),F=D("data-transition-duration",1),t=D("data-transition-order",null);n=J(n,F,c);F=D("data-transition-ease",h);let y=null;t!==null&&(y=U(b),t=V(y,t),gsap.set(y,{zIndex:t}));t=gsap.timeline({onComplete:()=>{y&&gsap.set(y,{clearProps:"zIndex"})}});t.fromTo(b,g,{...l,duration:n.duration,ease:A(F)},n.delay);t.fromTo(E,g,{...l,duration:n.duration,ease:A(F)},n.delay);C.add(t,0)}else if(l=b.getAttribute("data-transition-animation-from")||
b.getAttribute("data-transition-animation"))gsap.killTweensOf(b),l.includes(":")||(g=K(l)),g||=I(l),g&&(G(b),l=b.getAttribute("data-transition-delay")||0,t=b.getAttribute("data-transition-duration")||1,l=J(l,t,c),t=b.getAttribute("data-transition-ease")||h,C.from(b,{duration:l.duration,ease:A(t),...g},l.delay))}});P.forEach(b=>{const u=x(b);if(u.length>0&&!Array.from(O).some(n=>x(n).some(F=>u.includes(F)))){M.add(b);gsap.killTweensOf(b);var g=b.getAttribute("data-transition-animation-to")||b.getAttribute("data-transition-animation");
if(g){let n;g.includes(":")||(n=K(g));n||=I(g);if(n){G(b);g=b.getAttribute("data-transition-delay")||0;var l=b.getAttribute("data-transition-duration")||1;g=J(g,l,c);l=b.getAttribute("data-transition-ease")||h;C.to(b,{duration:g.duration,ease:A(l),...n},g.delay)}}}});var T=(b,u)=>{var g=b.getAttribute(`data-transition-animation-${u?"from":"to"}`)||b.getAttribute("data-transition-animation");if(g&&(gsap.killTweensOf(b),g=g.includes(":")?I(g):K(g))){var l=b.getAttribute("data-transition-delay")||0,
n=b.getAttribute("data-transition-duration")||1;l=J(l,n,c);n=b.getAttribute("data-transition-ease")||h;C[u?"from":"to"](b,{duration:l.duration,ease:A(n),...g},l.delay)}};f=Array.from(r.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>x(b).length===0);m=Array.from(q.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>x(b).length===0);f.forEach(b=>T(b,
!0));m.forEach(b=>T(b,!1))}}}};a.showNextSceneMagic=function(f,c,h){var e=this.sceneNames();const m=e.indexOf(this.currentSceneName());e=e[m+1];e!=null&&a.showSceneNamedMagic(e,f,c,h)};a.showPreviousSceneMagic=function(f,c,h){var e=this.sceneNames();const m=e.indexOf(this.currentSceneName());e=e[m-1];e!=null&&a.showSceneNamedMagic(e,f,c,h)};a.applyAnimation=function(f,c,h={}){gsap.killTweensOf(f);let e,m=f;if(typeof f==="string"&&(m=document.getElementById(this.currentSceneId()).querySelectorAll(f),
m.length===0))return null;typeof c==="string"?(c.includes(":")||(e=K(c)),e||=I(c)):typeof c==="object"&&(e=c);if(!e)return null;const L=w("hypePropertyMap");f={ease:A(h.ease),duration:h.duration||w("durationAnimation"),...e,...h,onComplete:()=>{h.skipHypeSync||(m.length?m:[m]).forEach(p=>{Object.entries(e).forEach(([v,B])=>{(v=L[v])&&(Array.isArray(v)?v.forEach(q=>{this.setElementProperty(p,q,B)}):this.setElementProperty(p,v,B))})});if(h.onComplete)h.onComplete()}};return h.from||e.from?gsap.from(m,
f):gsap.to(m,f)}}});return{version:"2.6.0",getDefault:w,setDefault:function(a,d){typeof a=="object"?z=a:z[a]=d},clearCachedMagicProperties:function(a){a?H.delete(a):H.clear()},getTransitionIdentifiers:x,registerAnimation:N}}());
