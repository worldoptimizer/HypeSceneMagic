/*
 Hype SceneMagic 2.6.3 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function G(a,c=!1){if(!c&&H.has(a))return H.get(a);c={};let h=v("defaultProperties");for(let e in h)v("skipProperties").includes(e)||(c[e]=a.style[e]||h[e]);H.set(a,c);return c}function V(a){const c={},h=v("defaultProperties");for(let e in h)v("skipProperties").includes(e)||(c[e]=a.style[e]||h[e]);return c}function v(a){return a?A[a]:A}function B(a){a=a||"power1.inOut";return v("easingMap")[a.toLowerCase()]||a}function W(a){return a.parentElement&&
a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function X(a,c){return c==="front"||c==="back"?(a=Array.from(a.parentElement.children).map(h=>parseInt(getComputedStyle(h).zIndex)||0),c==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):c}function x(a){const c=[];a.classList.forEach(h=>{h.toLowerCase().startsWith("magic")&&h.length>5&&c.push(h.slice(5).toLowerCase())});(a=a.getAttribute("data-transition-id"))&&c.push(...a.split(",").map(h=>h.trim().toLowerCase()).map(h=>
h.startsWith("magic")?h.slice(5):h).filter(Boolean));return[...(new Set(c))]}function K(a,c,h){const e=d=>{if(typeof d==="string"){if(d.endsWith("%"))return parseFloat(d)/100*parseFloat(h);if(d.endsWith("ms"))return parseFloat(d)/1E3;if(d.endsWith("s"))return parseFloat(d)}return parseFloat(d)*parseFloat(h)};a=e(a);c=e(c);return{delay:a,duration:c}}function Y(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition \x3e .HYPE_scene { transform: none !important; }.magicTransition \x3e .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition \x3e .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition \x3e .HYPE_document \x3e .HYPE_element_container { z-index: 1000 !important; }.magicTransition \x3e .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition \x3e .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function I(a){if(!a)return null;const c={},h=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(e=>{const [d,k]=e.trim().split(":").map(f=>f.trim());h.includes(d)&&k.endsWith("%")?c[d]=parseFloat(k)/100:c[d]=k});return c}function O(a,c){typeof c==="string"&&(c=I(c));A.registeredAnimations[a.toLowerCase()]=c}function L(a){return A.registeredAnimations[a.toLowerCase()]||null}let A={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},
defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,durationTransition:.5,durationAnimation:.25,registeredAnimations:{},hypePropertyMap:{x:"left",y:"top",scale:["scaleX","scaleY"],scaleX:"scaleX",scaleY:"scaleY",rotation:"rotateZ",
opacity:"opacity",width:"width",height:"height",zIndex:"z-index"},skipProperties:["fontFamily"]};const H=new WeakMap,J=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,c,h){Y();a.registerAnimation=O;a.showSceneNamedMagic=function(e,d,k,f={}){if(c.classList.contains("magicTransition")){var l=J.get(a);l&&l.masterTimeline&&(l.masterTimeline.progress(1),delete l.masterTimeline,console.warn("HypeSceneMagic: Previous magic transition was interrupted by a new one. This indicates overlapping magic transitions in your Hype document."))}l=
this.currentSceneName();const M=this.currentLayoutName();if(e!==l){var p=this.layoutsForSceneNamed(l),w=p.find(b=>{if(b.name===M)return!0})||p[0];p=this.layoutsForSceneNamed(e);var C=p.find(b=>b.name===M)||p.find(b=>b.width===w.width&&b.height===w.height)||p[0];p=w._;C=C._;var q=document.querySelector(`#${this.documentId()} > [hype_scene_index="${p}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${C}"]`);if(r!==null){d=d||v("durationTransition");p=f.crossFadeFactor!==void 0?
f.crossFadeFactor:v("crossFadeFactor");p*=d;c.classList.add("magicTransition");q.classList.add("currentScene");r.classList.add("targetScene");if(f.onTransitionPrepare)f.onTransitionPrepare(q,r,{duration:d,ease:k});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${l.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${e.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${l.replace(/\s+/g,"")}_to_${e.replace(/\s+/g,
"")}`);a.showSceneNamed(e,a.kSceneTransitionCrossfade,d);var y=gsap.timeline({onStart:()=>{if(f.onTransitionStart)f.onTransitionStart(q,r,{duration:d,ease:k})},onUpdate:function(){if(f.onTransitionProgress)f.onTransitionProgress(this.progress(),q,r)},onComplete:()=>{const b=()=>{var t=getComputedStyle(r).opacity;if(parseFloat(t)==1){requestAnimationFrame(()=>{N.forEach(g=>{const m=G(g);gsap.set(g,m)})});c.classList.remove("magicTransition");q.classList.remove("currentScene","fadeComplete");r.classList.remove("targetScene",
"fadeComplete");if(f.onTransitionEnd)f.onTransitionEnd(q,r,{duration:d,ease:k});a.triggerCustomBehaviorNamed("magicTransitionEnd");(t=J.get(a))&&delete t.masterTimeline}else requestAnimationFrame(b)};b()}});y.to({},{duration:d});y.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,duration:p,ease:"none",onComplete:()=>{q.classList.add("fadeComplete");r.classList.add("fadeComplete");gsap.killTweensOf(q.querySelectorAll("*"))}},0);var P=r.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),
Q=q.querySelectorAll('div[class*\x3d"magic"], div[data-transition-id]'),N=new Set;P.forEach(b=>{const t=x(b);if(t.length>0){const E=Array.from(Q).find(D=>x(D).some(z=>t.includes(z)));if(E){gsap.killTweensOf([b,E]);N.add(E);var g=V(E),m=G(b);function D(R,S){let T=E.getAttribute(R);return T==="target"?b.getAttribute(R)||S:T||S}var n=D("data-transition-delay",0),F=D("data-transition-duration",1),u=D("data-transition-order",null);n=K(n,F,d);F=D("data-transition-ease",k);let z=null;u!==null&&(z=W(b),u=
X(z,u),gsap.set(z,{zIndex:u}));u=gsap.timeline({onComplete:()=>{z&&gsap.set(z,{clearProps:"zIndex"})}});u.fromTo(b,g,{...m,duration:n.duration,ease:B(F)},n.delay);u.fromTo(E,g,{...m,duration:n.duration,ease:B(F)},n.delay);y.add(u,0)}else if(m=b.getAttribute("data-transition-animation-from")||b.getAttribute("data-transition-animation"))gsap.killTweensOf(b),m.includes(":")||(g=L(m)),g||=I(m),g&&(G(b),m=b.getAttribute("data-transition-delay")||0,u=b.getAttribute("data-transition-duration")||1,m=K(m,
u,d),u=b.getAttribute("data-transition-ease")||k,y.from(b,{duration:m.duration,ease:B(u),...g},m.delay))}});Q.forEach(b=>{const t=x(b);if(t.length>0&&!Array.from(P).some(n=>x(n).some(F=>t.includes(F)))){N.add(b);gsap.killTweensOf(b);var g=b.getAttribute("data-transition-animation-to")||b.getAttribute("data-transition-animation");if(g){let n;g.includes(":")||(n=L(g));n||=I(g);if(n){G(b);g=b.getAttribute("data-transition-delay")||0;var m=b.getAttribute("data-transition-duration")||1;g=K(g,m,d);m=b.getAttribute("data-transition-ease")||
k;y.to(b,{duration:g.duration,ease:B(m),...n},g.delay)}}}});var U=(b,t)=>{var g=b.getAttribute(`data-transition-animation-${t?"from":"to"}`)||b.getAttribute("data-transition-animation");if(g&&(N.add(b),G(b),gsap.killTweensOf(b),g=g.includes(":")?I(g):L(g))){var m=b.getAttribute("data-transition-delay")||0,n=b.getAttribute("data-transition-duration")||1;m=K(m,n,d);n=b.getAttribute("data-transition-ease")||k;y[t?"from":"to"](b,{duration:m.duration,ease:B(n),...g},m.delay)}};e=Array.from(r.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>
x(b).length===0);l=Array.from(q.querySelectorAll("[data-transition-animation], [data-transition-animation-from], [data-transition-animation-to]")).filter(b=>x(b).length===0);e.forEach(b=>U(b,!0));l.forEach(b=>U(b,!1));J.has(a)||J.set(a,{});J.get(a).masterTimeline=y}}};a.showNextSceneMagic=function(e,d,k){var f=this.sceneNames();const l=f.indexOf(this.currentSceneName());f=f[l+1];f!=null&&a.showSceneNamedMagic(f,e,d,k)};a.showPreviousSceneMagic=function(e,d,k){var f=this.sceneNames();const l=f.indexOf(this.currentSceneName());
f=f[l-1];f!=null&&a.showSceneNamedMagic(f,e,d,k)};a.applyAnimation=function(e,d,k={}){gsap.killTweensOf(e);let f,l=e;if(typeof e==="string"&&(l=document.getElementById(this.currentSceneId()).querySelectorAll(e),l.length===0))return null;typeof d==="string"?(d.includes(":")||(f=L(d)),f||=I(d)):typeof d==="object"&&(f=d);if(!f)return null;const M=v("hypePropertyMap");e={ease:B(k.ease),duration:k.duration||v("durationAnimation"),...f,...k,onComplete:()=>{k.skipHypeSync||(l.length?l:[l]).forEach(p=>{Object.entries(f).forEach(([w,
C])=>{(w=M[w])&&(Array.isArray(w)?w.forEach(q=>{this.setElementProperty(p,q,C)}):this.setElementProperty(p,w,C))})});if(k.onComplete)k.onComplete()}};return k.from||f.from?gsap.from(l,e):gsap.to(l,e)}}});return{version:"2.6.3",getDefault:v,setDefault:function(a,c){typeof a=="object"?A=a:A[a]=c},clearCachedMagicProperties:function(a){a?H.delete(a):H.clear()},getTransitionIdentifiers:x,registerAnimation:O}}());
