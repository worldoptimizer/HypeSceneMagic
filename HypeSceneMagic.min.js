/*
 Hype SceneMagic 2.5.5 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function x(a,b=!1){if(!b&&y.has(a))return y.get(a);b={};let p=z("defaultProperties");for(let g in p)b[g]=a.style[g]||p[g];y.set(a,b);return b}function z(a){return a?C[a]:C}function D(a){a=a||"power1.inOut";return z("easingMap")[a.toLowerCase()]||a}function R(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function S(a,b){return b==="front"||b==="back"?(a=Array.from(a.parentElement.children).map(p=>
parseInt(getComputedStyle(p).zIndex)||0),b==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):b}function F(a,b,p){const g=c=>{if(typeof c==="string"){if(c.endsWith("%"))return parseFloat(c)/100*parseFloat(p);if(c.endsWith("ms"))return parseFloat(c)/1E3;if(c.endsWith("s"))return parseFloat(c)}return parseFloat(c)*parseFloat(p)};a=g(a);b=g(b);return{delay:a,duration:b}}function T(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";
a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition > .HYPE_scene { transform: none !important; }.magicTransition > .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition > .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition > .HYPE_document > .HYPE_element_container { z-index: 1000 !important; }.magicTransition > .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition > .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function J(a){for(let b of a.classList)if(b.toLowerCase().startsWith("magic")&&b.length>5)return b.slice(5).toLowerCase();return null}function E(a){let b=J(a);b||=a.getAttribute("data-transition-id");b&&b.toLowerCase().startsWith("magic")&&(b=b.slice(5));return b?b.toLowerCase():null}function K(a){if(!a)return null;const b={},p=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(g=>{const [c,h]=g.trim().split(":").map(e=>e.trim());p.includes(c)&&
h.endsWith("%")?b[c]=parseFloat(h)/100:b[c]=h});return b}let C={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",textDecoration:"none"},crossFadeFactor:.5,duration:.5};const y=new WeakMap;
"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,p){T();a.showSceneNamedMagic=function(g,c,h,e={}){if(!b.classList.contains("magicTransition")){var f=this.currentSceneName(),L=this.currentLayoutName();if(g!==f){f=this.layoutsForSceneNamed(f);var G=f.find(m=>{if(m.name===L)return!0})||f[0];f=this.layoutsForSceneNamed(g);var H=f.find(m=>m.name===L?!0:m.width===G.width&&m.height===G.height)||f[0];f=G._;
H=H._;var v=document.querySelector(`#${this.documentId()} > [hype_scene_index="${f}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${H}"]`);c=c||z("duration");f=e.crossFadeFactor!==void 0?e.crossFadeFactor:z("crossFadeFactor");f*=c;if(r!=null){b.classList.add("magicTransition");v.classList.add("currentScene");r.classList.add("targetScene");e.beforeStart&&e.beforeStart(v,r,{duration:c,ease:h});a.showSceneNamed(g,a.kSceneTransitionCrossfade,c);const m=gsap.timeline({onComplete:()=>
{I.forEach(d=>{const w=x(d);gsap.set(d,w)});b.classList.remove("magicTransition");v.classList.remove("currentScene","fadeComplete");r.classList.remove("targetScene","fadeComplete");e.afterEnd&&e.afterEnd(v,r,{duration:c,ease:h})}});m.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,duration:f,ease:"none",onComplete:()=>{v.classList.add("fadeComplete");r.classList.add("fadeComplete")}});m.call(()=>{gsap.killTweensOf(v.querySelectorAll("*"))},null,f);this.triggerCustomBehaviorNamed("magicTransition");
const M=r.querySelectorAll('div[class*="magic"], div[data-transition-id]'),N=v.querySelectorAll('div[class*="magic"], div[data-transition-id]'),I=new Set;M.forEach(d=>{const w=E(d);if(w){const A=Array.from(N).find(t=>(t=E(t))&&t.toLowerCase()===w.toLowerCase());if(A){I.add(A);var n=x(A),k=x(d);function t(O,P){let Q=A.getAttribute(O);return Q==="target"?d.getAttribute(O)||P:Q||P}var q=t("data-transition-delay",0),u=t("data-transition-duration",1),l=t("data-transition-order",null);q=F(q,u,c);u=t("data-transition-ease",
h);let B=null;l!==null&&(B=R(d),l=S(B,l),gsap.set(B,{zIndex:l}));l=gsap.timeline({onComplete:()=>{B&&gsap.set(B,{clearProps:"zIndex"})}});l.fromTo(d,n,{...k,duration:q.duration,ease:D(u)},q.delay);l.fromTo(A,n,{...k,duration:q.duration,ease:D(u)},q.delay);m.add(l,0)}else if(n=d.getAttribute("data-transition-fallback-from")||d.getAttribute("data-transition-fallback"))if(n=K(n))x(d),k=d.getAttribute("data-transition-delay")||0,l=d.getAttribute("data-transition-duration")||1,k=F(k,l,c),l=d.getAttribute("data-transition-ease")||
h,m.from(d,{duration:k.duration,ease:D(l),...n},k.delay)}});N.forEach(d=>{const w=E(d);if(w&&!Array.from(M).find(u=>(u=E(u))&&u.toLowerCase()===w.toLowerCase())){I.add(d);var n=d.getAttribute("data-transition-fallback-to")||d.getAttribute("data-transition-fallback");if(n&&(n=K(n))){x(d);var k=d.getAttribute("data-transition-delay")||0,q=d.getAttribute("data-transition-duration")||1;k=F(k,q,c);q=d.getAttribute("data-transition-ease")||h;m.to(d,{duration:k.duration,ease:D(q),...n},k.delay)}}})}}}};
a.showNextSceneMagic=function(g,c,h){var e=this.sceneNames();const f=e.indexOf(this.currentSceneName());e=e[f+1];e!=null&&a.showSceneNamedMagic(e,g,c,h)};a.showPreviousSceneMagic=function(g,c,h){var e=this.sceneNames();const f=e.indexOf(this.currentSceneName());e=e[f-1];e!=null&&a.showSceneNamedMagic(e,g,c,h)}}});return{version:"2.5.5",getDefault:z,setDefault:function(a,b){typeof a=="object"?C=a:C[a]=b},clearCachedMagicProperties:function(a){a?y.delete(a):y.clear()},extractMagicIdentifier:J}}());
