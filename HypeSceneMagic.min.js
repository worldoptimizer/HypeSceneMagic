/*
 Hype SceneMagic 2.5.7 (GSAP Version)
 Copyright (c) 2024 Max Ziebell, (https://maxziebell.de). MIT-license
 Requires GSAP animation library (https://greensock.com/gsap/)
*/
'use strict';"HypeSceneMagic"in window===!1&&(window.HypeSceneMagic=function(){function y(a,b=!1){if(!b&&z.has(a))return z.get(a);b={};let q=A("defaultProperties");for(let f in q)b[f]=a.style[f]||q[f];z.set(a,b);return b}function A(a){return a?w[a]:w}function D(a){a=a||"power1.inOut";return A("easingMap")[a.toLowerCase()]||a}function T(a){return a.parentElement&&a.parentElement.classList.contains("HYPE_element_container")?a.parentElement:a}function U(a,b){return b==="front"||b==="back"?(a=Array.from(a.parentElement.children).map(q=>
parseInt(getComputedStyle(q).zIndex)||0),b==="front"?(Math.max(...a)+1).toString():(Math.min(...a)-1).toString()):b}function G(a,b,q){const f=c=>{if(typeof c==="string"){if(c.endsWith("%"))return parseFloat(c)/100*parseFloat(q);if(c.endsWith("ms"))return parseFloat(c)/1E3;if(c.endsWith("s"))return parseFloat(c)}return parseFloat(c)*parseFloat(q)};a=f(a);b=f(b);return{delay:a,duration:b}}function V(){if(!document.getElementById("magicTransitionStyle")){let a=document.createElement("style");a.id="magicTransitionStyle";
a.textContent=".magicTransition, .magicTransition * { pointer-events: none !important; }.magicTransition > .HYPE_scene { transform: none !important; }.magicTransition > .HYPE_scene.currentScene { z-index: 1 !important; display: block !important; }.magicTransition > .HYPE_scene.targetScene { z-index: 2 !important; display: block !important; opacity: var(--scene-opacity, 0) !important; }.magicTransition > .HYPE_document > .HYPE_element_container { z-index: 1000 !important; }.magicTransition > .HYPE_scene.currentScene.fadeComplete { display: none !important; }.magicTransition > .HYPE_scene.targetScene.fadeComplete { opacity: 1 !important; }";
document.head.appendChild(a)}}function L(a){for(let b of a.classList)if(b.toLowerCase().startsWith("magic")&&b.length>5)return b.slice(5).toLowerCase();return null}function E(a){let b=L(a);b||=a.getAttribute("data-transition-id");b&&b.toLowerCase().startsWith("magic")&&(b=b.slice(5));return b?b.toLowerCase():null}function H(a){if(!a)return null;const b={},q=["scale","scaleX","scaleY","scaleZ"];a.split(";").filter(Boolean).forEach(f=>{const [c,l]=f.trim().split(":").map(e=>e.trim());q.includes(c)&&
l.endsWith("%")?b[c]=parseFloat(l)/100:b[c]=l});return b}function M(a,b){typeof b==="string"&&(b=H(b));w.registeredAnimations[a.toLowerCase()]=b}let w={easingMap:{easein:"power1.in",easeout:"power1.out",easeinout:"power1.inOut"},defaultProperties:{width:"auto",height:"auto",opacity:1,borderRadius:"0px",transform:"",wordSpacing:"normal",backgroundColor:"transparent",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",textAlign:"left",textShadow:"none",lineHeight:"normal",letterSpacing:"normal",
textDecoration:"none"},crossFadeFactor:.5,duration:.5,registeredAnimations:{}};const z=new WeakMap;"HYPE_eventListeners"in window===!1&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,q){V();a.registerAnimation=M;a.showSceneNamedMagic=function(f,c,l,e={}){if(!b.classList.contains("magicTransition")){var t=this.currentSceneName(),N=this.currentLayoutName();if(f!==t){var m=this.layoutsForSceneNamed(t),I=m.find(p=>{if(p.name===N)return!0})||
m[0];m=this.layoutsForSceneNamed(f);var J=m.find(p=>p.name===N?!0:p.width===I.width&&p.height===I.height)||m[0];m=I._;J=J._;var u=document.querySelector(`#${this.documentId()} > [hype_scene_index="${m}"]`),r=document.querySelector(`#${this.documentId()} > [hype_scene_index="${J}"]`);c=c||A("duration");m=e.crossFadeFactor!==void 0?e.crossFadeFactor:A("crossFadeFactor");m*=c;if(r!=null){b.classList.add("magicTransition");u.classList.add("currentScene");r.classList.add("targetScene");if(e.onTransitionStart)e.onTransitionStart(u,
r,{duration:c,ease:l});a.triggerCustomBehaviorNamed("magicTransitionStart");a.triggerCustomBehaviorNamed(`magicTransitionFrom_${t.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransitionTo_${f.replace(/\s+/g,"")}`);a.triggerCustomBehaviorNamed(`magicTransition_${t.replace(/\s+/g,"")}_to_${f.replace(/\s+/g,"")}`);a.showSceneNamed(f,a.kSceneTransitionCrossfade,c);const p=gsap.timeline({onUpdate:function(){if(e.onTransitionProgress)e.onTransitionProgress(this.progress(),u,r)},onComplete:()=>
{K.forEach(d=>{const x=y(d);gsap.set(d,x)});b.classList.remove("magicTransition");u.classList.remove("currentScene","fadeComplete");r.classList.remove("targetScene","fadeComplete");if(e.onTransitionEnd)e.onTransitionEnd(u,r,{duration:c,ease:l});a.triggerCustomBehaviorNamed("magicTransitionEnd")}});p.fromTo(r,{"--scene-opacity":0},{"--scene-opacity":1,duration:m,ease:"none",onComplete:()=>{u.classList.add("fadeComplete");r.classList.add("fadeComplete")}});p.call(()=>{gsap.killTweensOf(u.querySelectorAll("*"))},
null,m);const O=r.querySelectorAll('div[class*="magic"], div[data-transition-id]'),P=u.querySelectorAll('div[class*="magic"], div[data-transition-id]'),K=new Set;O.forEach(d=>{const x=E(d);if(x){const B=Array.from(P).find(v=>(v=E(v))&&v.toLowerCase()===x.toLowerCase());if(B){K.add(B);var g=y(B),h=y(d);function v(Q,R){let S=B.getAttribute(Q);return S==="target"?d.getAttribute(Q)||R:S||R}var k=v("data-transition-delay",0),F=v("data-transition-duration",1),n=v("data-transition-order",null);k=G(k,F,c);
F=v("data-transition-ease",l);let C=null;n!==null&&(C=T(d),n=U(C,n),gsap.set(C,{zIndex:n}));n=gsap.timeline({onComplete:()=>{C&&gsap.set(C,{clearProps:"zIndex"})}});n.fromTo(d,g,{...h,duration:k.duration,ease:D(F)},k.delay);n.fromTo(B,g,{...h,duration:k.duration,ease:D(F)},k.delay);p.add(n,0)}else if(h=d.getAttribute("data-transition-fallback-from")||d.getAttribute("data-transition-fallback"))h.includes(":")||(g=w.registeredAnimations[h.toLowerCase()]||null),g||=H(h),g&&(y(d),h=d.getAttribute("data-transition-delay")||
0,n=d.getAttribute("data-transition-duration")||1,h=G(h,n,c),n=d.getAttribute("data-transition-ease")||l,p.from(d,{duration:h.duration,ease:D(n),...g},h.delay))}});P.forEach(d=>{const x=E(d);if(x&&!Array.from(O).find(k=>(k=E(k))&&k.toLowerCase()===x.toLowerCase())){K.add(d);var g=d.getAttribute("data-transition-fallback-to")||d.getAttribute("data-transition-fallback");if(g){let k;g.includes(":")||(k=w.registeredAnimations[g.toLowerCase()]||null);k||=H(g);if(k){y(d);g=d.getAttribute("data-transition-delay")||
0;var h=d.getAttribute("data-transition-duration")||1;g=G(g,h,c);h=d.getAttribute("data-transition-ease")||l;p.to(d,{duration:g.duration,ease:D(h),...k},g.delay)}}}})}}}};a.showNextSceneMagic=function(f,c,l){var e=this.sceneNames();const t=e.indexOf(this.currentSceneName());e=e[t+1];e!=null&&a.showSceneNamedMagic(e,f,c,l)};a.showPreviousSceneMagic=function(f,c,l){var e=this.sceneNames();const t=e.indexOf(this.currentSceneName());e=e[t-1];e!=null&&a.showSceneNamedMagic(e,f,c,l)}}});return{version:"2.5.7",
getDefault:A,setDefault:function(a,b){typeof a=="object"?w=a:w[a]=b},clearCachedMagicProperties:function(a){a?z.delete(a):z.clear()},extractMagicIdentifier:L,registerAnimation:M}}());
